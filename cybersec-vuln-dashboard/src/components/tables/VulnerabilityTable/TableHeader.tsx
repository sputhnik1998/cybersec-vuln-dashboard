import { TableHead, TableRow, TableCell, TableSortLabel } from '@mui/material';

type SortableColumn = 'cve' | 'severity' | 'cvss' | 'packageName' | 'packageVersion' | 'published' | 'status';

interface TableHeaderProps {
  sortBy: string;
  sortOrder: 'asc' | 'desc';
  onSort: (column: SortableColumn) => void;
}

const columns = [
  { id: 'cve' as const, label: 'CVE ID', width: '12%', align: 'left' as const },
  { id: 'severity' as const, label: 'Severity', width: '10%', align: 'left' as const },
  { id: 'cvss' as const, label: 'CVSS', width: '7%', align: 'left' as const },
  { id: 'packageName' as const, label: 'Package', width: '15%', align: 'left' as const },
  { id: 'packageVersion' as const, label: 'Version', width: '7%', align: 'left' as const },
  { id: 'published' as const, label: 'Published', width: '13%', align: 'left' as const },
  { id: 'status' as const, label: 'Status', width: '20%', align: 'left' as const },
];

export const VulnerabilityTableHeader = ({ sortBy, sortOrder, onSort }: TableHeaderProps) => {
  return (
    <TableHead>
      <TableRow sx={{ backgroundColor: '#1a1a1a' }}>
        {columns.map((column) => (
          <TableCell
            key={column.id}
            align={column.align}
            sx={{
              py: 2,
              fontSize: '0.9rem',
              width: column.width,
            }}
          >
            <TableSortLabel
              active={sortBy === column.id}
              direction={sortBy === column.id ? sortOrder : 'asc'}
              onClick={() => onSort(column.id)}
            >
              <strong>{column.label}</strong>
            </TableSortLabel>
          </TableCell>
        ))}
      </TableRow>
    </TableHead>
  );
};
