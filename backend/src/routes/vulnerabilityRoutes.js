const express = require('express');
const router = express.Router();
const {
  getVulnerabilities,
  getVulnerabilityById,
} = require('../controllers/vulnerabilityController');

/**
 * Vulnerability Routes
 * Note: Dashboard aggregates moved to /api/dashboard/aggregates
 */

// GET /api/vulnerabilities - Get all vulnerabilities with filtering, sorting, and pagination
router.get('/', getVulnerabilities);

// GET /api/vulnerabilities/:id - Get single vulnerability by ID (must be last)
router.get('/:id', getVulnerabilityById);

module.exports = router;
